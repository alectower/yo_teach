<div>
  <h2>Lesson Plans</h2>
  <div style='float: left'>
    <i class='icon-plus'></i>&nbsp;<%= link_to 'New Lesson Plan', new_lesson_plan_path %>
  </div>
  <div class='course-list'>
    <span id='dropdown'>
      <%= select :course, :id, Course.all.collect {|c| [ c.name, c.id ] }, { selected: params[:course], include_blank: 'All Courses' }, style: 'margin-right: 20px'  %>
    </span>
    <%= form_tag lesson_plans_path, method: 'get', style: 'display: inline' do %>
      <%= hidden_field_tag :course, params[:course] %>
      <%= text_field_tag :search, params[:search], placeholder: 'Search by Lesson Plan Title' %>
      <%= submit_tag 'Search', class: 'btn btn-small', style: 'margin-bottom: 10px' %>
    <% end %>
  </div>
</div>
<br/>
<table class='table lesson-plans'>
    <col width="30%"/>
    <col width="15%"/>
    <col width="10%"/>
    <col width="15%"/>
    <col width="15%"/>
    <col width="15%"/>
    <thead>
      <tr>
        <th>
          <%= sortable sort: 'title',
            title: 'Lesson Plan Title' %>
          <%= sort_image 'title' %>
        </th>
        <th>
          <%= sortable sort: 'status' %>
          <%= sort_image 'status' %>
        </th>
        <th>
          <%= sortable sort: 'course_name', title: 'Course' %>
          <%= sort_image 'course_name' %>
        </th>
        <th>
          <%= sortable sort: 'start', title: 'Date' %>
          <%= sort_image 'start' %>
        </td>
        <th>Start Time</td>
        <th>End Time</td>
      </tr>
    </thead>
</table>
<div class='table-container lesson-plans'>
  <table class='table table-hover table-striped'>
    <col width="30%"/>
    <col width="15%"/>
    <col width="10%"/>
    <col width="15%"/>
    <col width="15%"/>
    <col width="15%"/>
    <% @lesson_plans.each do |lesson_plan| %>
      <tr>
        <td><%= link_to lesson_plan.title,
              edit_lesson_plan_path(lesson_plan.id) %></td>
        <td>
          <span class="<%= status_class(lesson_plan) %>">
            <%= lesson_plan.status_text %>
          </span>
        </td>
        <td><%= link_to lesson_plan.course_name,
                edit_course_path(lesson_plan.course.id)%></td>
        <td><%= lesson_plan.start_date %></td>
        <td><%= lesson_plan.start_time %></td>
        <td><%= lesson_plan.end_time %></td>
      </tr>
    <% end %>

    <%= will_paginate @lesson_plans %>
  </table>
</div>

<% content_for :to_do_list do %>
  <%= render 'layouts/to_do_list' %>
<% end %>
